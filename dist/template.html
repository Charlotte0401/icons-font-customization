<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="Content-Type" name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
  <meta name="description"
    content="icons-font-customization: A collection of free svg icons and tools for generating icon font.">
  <title>icons-font-customization</title>
</head>

<body>
  <style>
    @font-face {
      font-family: 'i-font';
      src: url('index.woff') format('woff');
      font-weight: 400;
      font-style: normal;
    }
  </style>
  <!-- DESKTOP-START -->
  <style>
    * {
      box-sizing: border-box;
    }

    html,
    body {
      font-family: Sentinel SSm A, Sentinel SSm B, system-ui, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
    }

    .app-title {
      font-size: 14px;
    }

    .link {
      font-size: 13px;
    }

    /* right panel */
    .navigation-icon {
      display: inline-block;
      position: fixed;
      top: 6px;
      right: 6px;
      z-index: 102;
      border: solid 1px #00f;
      box-shadow: 13px 5px 5px 1px #ccc;
      border-right-style: solid;
      border-right-width: 16px;
      border-top: 12px solid transparent;
      border-left: 0 solid transparent;
      border-bottom: 12px solid transparent;
    }

    .panel {
      display: none;
      position: fixed;
      top: 0;
      right: 0;
      z-index: 101;
      background-color: #fff;
      padding: 2px;
      font-size: .8rem;
      width: 320px;
    }

    .panel.show {
      display: inline-block;
    }

    .panel input[type=range] {
      -webkit-appearance: none;
      appearance: none;
      height: 8px;
      background: #aaa;
      outline: none;
      margin: 5px 0;
    }

    #red,
    #b-red {
      background: #ff0000;
    }

    #green,
    #b-green {
      background: #00ff00;
    }

    #blue,
    #b-blue {
      background: #0000ff;
    }

    .panel-row {
      border: solid 1px #00f;
      border-radius: 3px;
    }

    .control-box.color,
    .control-box.back {
      display: inline-block;
      width: 49%;
    }

    .control-box {
      padding: 10px;
    }

    .control-box .title {
      display: inline-block;
      width: 80px;
    }

    .control-box.search>div {
      padding-bottom: 2px;
    }

    .f-size .value {
      padding: 0 10px;
    }

    #search-container {
      width: 100%;
      padding-bottom: 10px;
    }

    #iconColor,
    #b-iconColor {
      width: 90px;
      margin-left: 4px;
    }

    .hide {
      display: none;
    }

    .icon-wrap {
      font-size: .8rem;
      margin: 3px;
      display: inline-block;
      position: relative;
      padding-bottom: 20px;
    }

    .ifc-box .icon-name {
      position: absolute;
      left: 0;
      bottom: -15px;
      display: inline-block;
      width: 100%;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      line-height: 17px;
    }

    .info .name {
      font-size: 120%;
      font-weight: 600;
    }

    .license {
      font-weight: 600;
    }

    .icon-group.close .icons {
      display: none;
    }

    .icon-wrap .chk {
      display: none;
      position: absolute;
      right: 3px;
      top: 0;
      z-index: 0;
    }

    .icon-wrap.selected .chk {
      display: inline-block;
    }

    .icon-wrap .opt {
      display: none;
      position: absolute;
      right: 22px;
      top: 2px;
      z-index: 3;
      width: 13px;
      height: 13px;
      background-color: #0075ff;
      font-size: 7px;
      color: #fff;
      text-align: center;
      vertical-align: middle;
      padding-bottom: 0px;
      cursor: pointer;
    }

    .icon-wrap:hover .opt {
      display: inline-block;
    }

    .option {
      display: none;
      border: solid 1px #00f;
      border-radius: 3px;
      background-color: #fff;
      padding: 2px;
      box-shadow: 3px 3px 5px 1px #ccc;
      position: relative;
      text-align: left;
    }

    .option .name,
    .option .code {
      white-space: nowrap;
      padding-bottom: 1px;
    }

    .option .name .title,
    .option .code .title {
      width: 31px;
      display: inline-block;
    }

    .option .i-name,
    .option .i-code {
      width: 140px;
      padding: 0;
      margin: 0 10px 0 0;
    }

    .option .i-sizeW,
    .option .i-sizeH {
      width: 45px;
    }

    .option input[type=button] {
      margin: 1px;
    }

    .option .close,
    #search-container .close {
      cursor: pointer;
      font-size: 9px;
    }

    .option .close {
      position: absolute;
      top: -1px;
      right: 2px;
    }

    .option .close:hover,
    #search-container .close:hover {
      color: blue;
      font-weight: bold;
    }

    /* when show option in icon-wrap */
    .icon-wrap .option {
      display: inline-block;
      position: absolute;
      left: 1px;
      bottom: -85px;
      z-index: 3;
      font-size: 9px;
      overflow: hidden;
    }

    .cfg {
      width: 100%;
      height: 200px;
      width: -webkit-fill-available;
    }

    .ifc-box {
      display: -webkit-inline-box;
      display: -webkit-inline-flex;
      display: -moz-inline-box;
      display: -ms-inline-flexbox;
      display: inline-flex;
      position: relative;
      width: 80px;
      height: 80px;
      border-radius: 3px;
      text-align: center;
      vertical-align: middle;
      border: solid 1px #00f;
    }

    .ifc-icon {
      font-size: inherit;
      display: inline-block;
      font-family: 'i-font';
      font-style: normal;
      font-weight: 400;
      font-variant: normal;
      text-transform: none;
      text-rendering: auto;
      line-height: 1em;
      vertical-align: middle;
      text-align: center;
      text-decoration: inherit;
      -moz-osx-font-smoothing: grayscale;
      -webkit-font-smoothing: antialiased;
      margin: auto;
    }

    /* Animation for spinners */
    .ifc-spin {
      animation: ifc-spin-f 2s infinite linear;
      display: inline-block;
    }

    /* @keyframes for IE10~ and major browsers */
    @keyframes ifc-spin-f {
      0% {
        transform: rotate(0deg);
      }

      100% {
        transform: rotate(359deg);
      }
    }
  </style>
  <style id="css-size">
    .icon-wrap .ifc-icon {
      font-size: 48px;
    }
  </style>
  <style id="css-color">
    .icon-wrap {
      color: blue;
    }
  </style>
  <style id="b-css-color"></style>
  <style id="css-icons">
  </style>
  <script>
    /*ICONS-JSON*/
  </script>
  <script>
    var iconsSrc = JSON.parse(localStorage.getItem('iconsSrc') || '{}');
    var iconsSrcSave = localStorage.getItem('iconsSrcSave') == '1';
    var imageSizeW = localStorage.getItem('imageSizeW') || 32;
    var imageSizeH = localStorage.getItem('imageSizeH') || 32;
    var imageTransparent = localStorage.getItem('imageTransparent') !== 'false';
    var fontSize = localStorage.getItem('fontSize') || 48;
    var frontColor = (localStorage.getItem('color') || '0,0,255').split(',');
    var backColor = (localStorage.getItem('b-color') || '255,255,255').split(',');
    function combineSrc() {
      var css = '';
      var cnt = 0;
      for (var key in iconsJSON) {
        for (var groupKey in iconsJSON[key].sub) {
          var iList = iconsJSON[key].sub[groupKey];
          for (var i = 0, len = iList.length; i < len; i++) {
            var src = iList[i].s || (iList[i].n + '.svg');
            iList[i].s = key + '/' + groupKey + '/' + src;
            if (iconsSrc[iList[i].s]) {
              iList[i]._selected = true;
              cnt++;
            }

            var unicode16 = iList[i].c.toString(16);
            css += '.i' + iList[i].c + ':before{content:"\\' + unicode16 + '";}';
          }
        }
      }
      document.getElementById('css-icons').innerHTML = css;
      return cnt;
    }
    window.onload = function () {
      setTimeout(function () {
        var cnt = combineSrc();
        document.getElementById('saveSelected').checked = iconsSrcSave;
        if (iconsSrcSave) {
          document.getElementById('fontSize').value = fontSize;
          chgFontSize(fontSize);
          document.getElementById('red').value = frontColor[0];
          document.getElementById('green').value = frontColor[1];
          document.getElementById('blue').value = frontColor[2];

          document.getElementById('b-red').value = backColor[0];
          document.getElementById('b-green').value = backColor[1];
          document.getElementById('b-blue').value = backColor[2];
          onChgColor('', '.icon-wrap');
          onChgColor('b-', 'body');
        }
        if (cnt > 0) {
          onShowSelected();
        }
      }, 100);
    }
    function populateOneIcon(iconData, preName, isMain) {
      var oneIcon = '<div class="icon-wrap" onclick="onImg(this)" title="' + preName + '-' + iconData.n + ', svg size: ' + iconData.l + ', src: ' + iconData.s + '">\n'
        + '  <div class="opt" onclick="onOpt(event, this)" title="Options">...</div>\n'
        + '  <input class="chk" type="checkbox" checked="true">\n'
        + '  <div class="ifc-box">\n'
        + '  <i class="ifc-icon i' + iconData.c + '"></i> <span class="icon-name">' + preName + '-' + iconData.n + '</span>\n'
        + '</div></div>\n';
      iconData.real = preName + '-' + iconData.n;
      var el = document.createElement('span');
      el.innerHTML = oneIcon;
      var ret = el.children[0];
      ret._data = iconData;
      if (iconData._selected) {
        ret.classList.add('selected');
      }
      isMain ? iconData._main = ret : iconData._top = ret;
      return el;
    }
    function getData(obj) {
      if (obj._data) {
        return obj._data;
      }
      if (obj.parentNode._data) {
        return obj.parentNode._data;
      }
      return null;
    }
    function onGroup(id) {
      var el = document.getElementById(id);
      el.classList.contains('close') ? el.classList.remove('close') : el.classList.add('close');

      var groupTop = iconsJSON[id];
      if (!groupTop._ok) {
        groupTop._ok = 1;
        setTimeout(function () {
          var groups = el.querySelectorAll('.sub-icons');
          onGroupSub(id, groupTop, groups);
        }, 100);
      }
    }
    function onGroupSub(id, groupTop, groups) {
      for (var i = 0, len = groups.length; i < len; i++) {
        var oneGroup = groups[i];
        oneGroup.innerHTML = '';
        var id2 = oneGroup.id;
        var preName = groupTop.preName;
        var iList = groupTop.sub[id2];
        for (var j = 0, len2 = iList.length; j < len2; j++) {
          var oneIcon = populateOneIcon(iList[j], preName, true);
          oneGroup.appendChild(oneIcon);
        }
      }
    }

    var onSearchTimer = false;
    function onSearch(obj) {
      if (onSearchTimer) {
        clearTimeout(onSearchTimer);
      }
      onSearchTimer = setTimeout(function () {
        onSearchSub(obj);
      }, 500);
    }
    function onSearchClose() {
      document.getElementById('search').value = '';
      var list = document.getElementById('search-container');
      list.classList.add('hide');
      document.getElementById('fonts-container').classList.add('hide');
    }
    function onSearchSub(obj) {
      document.getElementById('fonts-container').classList.add('hide');
      var option = document.querySelector('.icon-wrap #option');
      if (option) { option.parentElement.removeChild(option); }

      var list = document.getElementById('search-container');
      var text = obj.value.trim().toLowerCase();
      if (!text) {
        list.classList.add('hide');
        return;
      }

      list.classList.remove('hide');
      list.innerHTML = 'Search for: ' + text + ' <span class="close" onclick="onSearchClose()"> X</span><br>';
      var cnt = 0;
      for (var key in iconsJSON) {
        var preName = iconsJSON[key].preName;
        for (var groupKey in iconsJSON[key].sub) {
          var iList = iconsJSON[key].sub[groupKey];
          for (var i = 0, len = iList.length; i < len; i++) {
            if (iList[i].n.indexOf(text) >= 0) {
              var oneIcon = populateOneIcon(iList[i], preName, false);
              list.appendChild(oneIcon);
              cnt++;
              if (cnt > 200) {
                var div = document.createElement('div');
                div.innerHTML = '(too many to show...)';
                list.appendChild(div);
                break;
              }
            }
          }
          if (cnt > 200) { break; }
        }
        if (cnt > 200) { break; }
      }
      if (cnt === 0) {
        list.innerHTML += '(no related icons)';
      }
    }

    function onShowSelected() {
      var option = document.querySelector('.icon-wrap #option');
      if (option) { option.parentElement.removeChild(option); }

      document.getElementById('search').value = '';
      document.getElementById('fonts-container').classList.add('hide');
      var list = document.getElementById('search-container');
      var downTxt = typeof (showFontsPanelHtml) === 'function' ? showFontsPanelHtml() : '';
      list.innerHTML = 'Selected Icons: <span class="close" onclick="onSearchClose()"> X</span>' + downTxt + '<br>';
      list.classList.remove('hide');

      var cnt = 0;
      for (var key in iconsJSON) {
        var preName = iconsJSON[key].preName;
        for (var groupKey in iconsJSON[key].sub) {
          var iList = iconsJSON[key].sub[groupKey];
          for (var i = 0, len = iList.length; i < len; i++) {
            if (iList[i]._selected) {
              var oneIcon = populateOneIcon(iList[i], preName, false);
              list.appendChild(oneIcon);
              cnt++;
              if (cnt > 200) {
                var div = document.createElement('div');
                div.innerHTML = '(too many to show...)';
                list.appendChild(div);
                break;
              }
            }
          }
          if (cnt > 200) { break; }
        }
        if (cnt > 200) { break; }
      }
      if (cnt === 0) {
        list.innerHTML += '(no related icons)';
      }
    }
    function getCfgStr(paraObj) {
      var icons = [];
      var cfg = '';
      var cnt = 0;
      var nameSaved = [];
      for (var key in iconsJSON) {
        for (var groupKey in iconsJSON[key].sub) {
          var iList = iconsJSON[key].sub[groupKey];
          for (var i = 0, len = iList.length; i < len; i++) {
            if (iList[i]._selected) {
              // { path: 'font-awesome/brands/apple.svg', name: 'apple', code: 'A', },
              var name = iconsSrc[iList[i].s + '_name'] || iList[i].real;
              if (nameSaved.includes(name)) {
                name += i;
              }
              nameSaved.push(name);
              var src = iList[i].s;
              var savedCode = iconsSrc[iList[i].s + '_code'];
              var oneIcon = { path: src, name: name };
              var code = savedCode ? ", code: " + savedCode : "";
              if (savedCode) { oneIcon.code = savedCode; }
              cfg += "{ path: '" + src + "', name: '" + name + "'" + code + "}," + String.fromCharCode(13);
              icons.push(oneIcon);
              cnt++;
            }
          }
        }
      }
      paraObj.icons = icons;
      paraObj.cfg = cfg;
      paraObj.cnt = cnt;
    }

    function onCfg() {
      document.getElementById('fonts-container').classList.add('hide');
      document.getElementById('search').value = '';
      var list = document.getElementById('search-container');
      list.innerHTML = '';
      list.classList.remove('hide');

      var paraObj = { icons: [], cfg: '', cnt: 0 };
      getCfgStr(paraObj);
      if (paraObj.cnt === 0) {
        list.innerHTML = '(no selected icons) <span class="close" onclick="onSearchClose()"> X</span>';
      } else {
        list.innerHTML = 'How to create my own icons font? Visit: <a class="link" href="https://github.com/uuware/icons-font-customization">project</a> <span class="close" onclick="onSearchClose()"> X</span><br><textarea class="cfg">' + paraObj.cfg + '</textarea>';
      }
    }

    function onImg(obj) {
      var data = getData(obj);
      data._selected = !data._selected;
      if (data._main) {
        data._selected ? data._main.classList.add('selected') : data._main.classList.remove('selected');
      }
      if (data._top) {
        data._selected ? data._top.classList.add('selected') : data._top.classList.remove('selected');
      }
      if (iconsSrcSave) {
        data._selected ? iconsSrc[data.s] = 1 : delete iconsSrc[data.s];
        localStorage.setItem('iconsSrc', JSON.stringify(iconsSrc));
      }
    }

    function onOptClose() {
      var option = document.querySelector('.icon-wrap #option');
      option.parentElement.removeChild(option);
    }
    function onOptSave(event) {
      var option = document.querySelector('.icon-wrap #option');
      var data = option.parentElement._data;
      if (event.srcElement.className === 'i-sizeW') {
        imageSizeW = parseInt(event.srcElement.value || 32);
        if (imageSizeW < 1) { imageSizeW = 1; }
        if (iconsSrcSave) {
          localStorage.setItem('imageSizeW', imageSizeW);
        }
        return;
      }
      if (event.srcElement.className === 'i-sizeH') {
        imageSizeH = parseInt(event.srcElement.value || 32);
        if (imageSizeH < 1) { imageSizeH = 1; }
        if (iconsSrcSave) {
          localStorage.setItem('imageSizeH', imageSizeH);
        }
        return;
      }

      if (event.srcElement.className === 'i-name') {
        if (!event.srcElement.value || event.srcElement.value == data.real) {
          delete iconsSrc[data.s + '_name'];
        } else {
          iconsSrc[data.s + '_name'] = event.srcElement.value;
        }
      } else {
        if (!event.srcElement.value) {
          delete iconsSrc[data.s + '_code'];
        } else {
          iconsSrc[data.s + '_code'] = event.srcElement.value;
        }
      }
      if (iconsSrcSave) {
        localStorage.setItem('iconsSrc', JSON.stringify(iconsSrc));
      }
    }
    function onOpt(event, obj) {
      event.preventDefault();
      event.stopPropagation();

      var option = document.querySelector('.icon-wrap #option');
      if (option) {
        var isSelf = option.parentElement === obj.parentNode;
        option.parentElement.removeChild(option);
        if (isSelf) {
          return;
        }
      }

      option = document.querySelector('#option').cloneNode(true);
      obj.parentNode.appendChild(option);
      var data = option.parentElement._data;
      option.querySelector('.i-name').value = iconsSrc[data.s + '_name'] || data.real;
      option.querySelector('.i-code').value = iconsSrc[data.s + '_code'] || null;
      option.querySelector('.i-name').addEventListener('blur', onOptSave);
      option.querySelector('.i-code').addEventListener('blur', onOptSave);

      const sizeW = option.querySelector('.i-sizeW');
      sizeW.value = imageSizeW;
      sizeW.addEventListener('input', onOptSave);
      sizeW.addEventListener('blur', onOptSave);
      const sizeH = option.querySelector('.i-sizeH');
      sizeH.value = imageSizeH;
      sizeH.addEventListener('input', onOptSave);
      sizeH.addEventListener('blur', onOptSave);
      option.querySelector('.i-no-back').checked = imageTransparent;
      var fmt = localStorage.getItem('imgDownType') || 'png';
      option.querySelector('.img-type').value = fmt;
      onOptShowSize(option, fmt);
      restoreClickSize(option);
    }
    function onOptShowSize(pObj, fmt) {
      pObj.querySelector('.size-w-h').style.display = (fmt == 'x-icon' || fmt == 'icns') ? 'none' : 'inline-block';
      pObj.querySelector('.size-wh').style.display = (fmt == 'x-icon' || fmt == 'icns') ? 'inline-block' : 'none';
      pObj.querySelector('.i-size-512').disabled = fmt == 'x-icon';
    }
    function onSpin(obj) {
      var list = obj.parentNode.parentNode.parentNode.querySelector('.icon-wrap .ifc-icon').classList;
      list.contains('ifc-spin') ? list.remove('ifc-spin') : list.add('ifc-spin');
    }
    function onImageBack(obj) {
      imageTransparent = !imageTransparent;
      setTimeout(function () {
        obj.checked = imageTransparent;
      }, 100);
      if (iconsSrcSave) {
        localStorage.setItem('imageTransparent', imageTransparent);
      }
      return;
    }

    function generateIco() {
      var sBuf = '';
      var imgs = [];
      function addBuffer(uintArray) {
        var buffer = new Uint8Array(uintArray);
        var i = 0, l = buffer.length;
        while (i < l) sBuf += String.fromCharCode(buffer[i++]);
      }
      function addU8(u) { addBuffer(new Uint8Array([u]).buffer); }
      function addU16(u) { addBuffer(new Uint16Array([u]).buffer); }
      function addU32(u) { addBuffer(new Uint32Array([u]).buffer); }

      function addIconHeader(imgCount) {
        // .ico header
        addU16(0);        // Reserved space [00, 00]
        addU16(1);        // Indiciate ico file [01, 00]
        addU16(imgCount); // Indiciate imgCount image [01, 00]
      }

      function addDirectoryHeader(wh, dataLength, dataOffset) {
        addU8(wh < 256 ? wh : 0); // Image px width [32]
        addU8(wh < 256 ? wh : 0); // Image px height [32]
        addU8(0);                 // no color palette [00]
        addU8(0);                 // Reserved space [00]
        addU16(1);                // 1 color plane [01, 00]
        addU16(32);               // 32 bits per pixel (bit depth) [20, 00]
        addU32(dataLength + 40);  // image size in bytes
        addU32(dataOffset);       // offset of BMP or PNG data from the beginning of the ICO/CUR file
      }
      function addDibHeader(w, dataLength) {
        // DIB header
        addU32(40);          // header size
        addU32(w);
        addU32(w * 2);       // negative = top-to-bottom
        addU16(1);           // 1 plane
        addU16(32);          // 32-bits (RGBA)
        addU32(0);           // no compression (BI_BITFIELDS, 3)
        addU32(dataLength);  // bitmap size incl. padding (stride x height)
        addU32(0);
        addU32(0);
        addU32(0);
        addU32(0);
      }
      function addDibData(data, w, dataLength) {
        var h = w;
        var file = new ArrayBuffer(dataLength); // raw byte buffer (returned)
        var view = new DataView(file);          // handle endian, reg. width etc.

        var cols = w * 4;
        var rows = h * cols;
        var end = rows - cols;
        var bpp = 4;

        for (let row = 0; row < rows; row += cols) {
          for (let col = 0; col < cols; col += bpp) {
            let tPos = row + col;
            var r = data[tPos];
            var g = data[tPos + 1];
            var b = data[tPos + 2];
            var a = data[tPos + 3];

            tPos = (end - row) + col;
            view.setUint8(tPos, b);
            view.setUint8(tPos + 1, g);
            view.setUint8(tPos + 2, r);
            view.setUint8(tPos + 3, a);
          }
        }
        addBuffer(file);
      }

      function addImgData(data, wh) {
        imgs.push({d:data, wh:wh});
      }
      this.addImgData = addImgData;

      function getUrlData() {
        if (imgs.length < 1) { return null; }
        sBuf = '';
        var dataOffset = 6 + (16 * imgs.length);
        addIconHeader(imgs.length);
        for (var i = 0; i < imgs.length; i++) {
          // pixelSize should be same with data.buffer.byteLength
          var stride = Math.floor((32 * imgs[i].wh + 31) / 32) * 4; // row length incl. padding
          imgs[i].pixelSize = stride * imgs[i].wh;                 // total bitmap size

          addDirectoryHeader(imgs[i].wh, imgs[i].pixelSize, dataOffset);
          dataOffset += 40 + imgs[i].pixelSize;
        }
        for (var i = 0; i < imgs.length; i++) {
          addDibHeader(imgs[i].wh, imgs[i].pixelSize);
          addDibData(imgs[i].d.data, imgs[i].wh, imgs[i].pixelSize);
        }
        return 'data:image/vnd.microsoft.icon;base64,' + btoa(sBuf);
      }
      this.getUrlData = getUrlData;

      return this;
    }

    function getImageData(image, rgbColor, rgbBackColor, imageFormat) {
      var canvas2 = document.createElement('canvas');
      canvas2.width = image.width;
      canvas2.height = image.height;
      var ctx2 = canvas2.getContext('2d');
      ctx2.fillStyle = rgbColor;
      ctx2.fillRect(0, 0, canvas2.width, canvas2.height);
      ctx2.globalCompositeOperation = "destination-in";
      ctx2.drawImage(image, 0, 0);

      var canvas = document.createElement('canvas');
      canvas.width = image.width;
      canvas.height = image.height;
      var ctx = canvas.getContext('2d');
      if (rgbBackColor !== '') {
        ctx.fillStyle = rgbBackColor;
        ctx.fillRect(0, 0, canvas.width, canvas.height);
      }
      ctx.drawImage(canvas2, 0, 0);
      try {
        if (imageFormat == 'x-icon') {
          var pixelData = ctx.getImageData(0, 0, image.width, image.height);
          return pixelData;
        }
        var imgData = canvas.toDataURL('image/' + imageFormat);
        return imgData;
      } catch (e) {
        alert('For security reason, this page can\'t run locally. Error: ' + e.message);
        return null;
      }
    }
    var iconSizeArray = [16, 24, 32, 48, 64, 96, 128, 256, 512];
    function onClickSize(obj) {
      var pObj = obj.parentNode;
      for (var i = 0; i < iconSizeArray.length; i++) {
        var chk = pObj.querySelector('.i-size-' + iconSizeArray[i]).checked;
        localStorage.setItem('imgSizeChk-' + iconSizeArray[i], chk);
      }

      setTimeout(function () {
        restoreClickSize(pObj);
      }, 100);
    }
    function restoreClickSize(pObj) {
      for (var i = 0; i < iconSizeArray.length; i++) {
        var chk = localStorage.getItem('imgSizeChk-' + iconSizeArray[i]) == 'true';
        pObj.querySelector('.i-size-' + iconSizeArray[i]).checked = chk;
      }
    }
    function onTypeChanged(obj) {
      var fmt = obj.value;
      localStorage.setItem('imgDownType', fmt);
      onOptShowSize(obj.parentNode, fmt);
    }
    function onDownloadClick(obj) {
      var type = obj.parentNode.querySelector('.img-type').value;
      if (type == '') {
        alert('Select a format first.');
        return;
      }
      onDownloadImage(obj, type);
    }

    function onDownloadImage(obj, fmt) {
      var setData = obj.parentNode.parentNode.parentNode._data;
      var iconSizeObjs = [];
      if (fmt != 'x-icon' && fmt != 'icns') {
        // for png or jpg, download it directly
        addOneImage(setData, fmt, imageSizeW, imageSizeH, null);
        return;
      }

      for (var i = 0; i < iconSizeArray.length; i++) {
        var chk = localStorage.getItem('imgSizeChk-' + iconSizeArray[i]) == 'true';
        if (chk && (fmt != 'x-icon' || iconSizeArray[i] < 512)) {
          iconSizeObjs.push({
            'size': iconSizeArray[i],
            'data': null
          });
        }
      }
      if (iconSizeObjs.length < 1) {
        alert('Check on sizes first.');
        return;
      }
      var saveIconFn = function (imgData, size) {
        // collect data for all size
        var collectedAll = true;
        for (var i = 0; i < iconSizeObjs.length; i++) {
          if (iconSizeObjs[i].size == size) {
            iconSizeObjs[i].data = imgData;
          }
          if (!iconSizeObjs[i].data) {
            collectedAll = false;
          }
        }
        if (!collectedAll) {
          return false;
        }
        // if clooected all data for all sizes, then start to generate icon
        var genIconFn = new generateIco();
        for (var i = 0; i < iconSizeObjs.length; i++) {
          genIconFn.addImgData(iconSizeObjs[i].data, iconSizeObjs[i].size);
        }
        var genData = genIconFn.getUrlData();
        return genData;
      };
      for (var i = 0; i < iconSizeObjs.length; i++) {
        addOneImage(setData, fmt, iconSizeObjs[i].size, iconSizeObjs[i].size, saveIconFn);
      }
    }
    function addOneImage(setData, fmt, width, height, fn) {
      var isElectron = window && window.sendCommand;
      var src = (isElectron ? '../node_modules/icons-font-customization/dist/' : '') + 'svgs/' + setData.s;
      var name = iconsSrc[setData.s + '_name'] || setData.real;

      var hidingBox = document.getElementById('hiding-box');
      var img = document.createElement('img');
      img.onload = function () {
        var rgbColor = getUserColor('');
        var rgbBackColor = (fmt == 'png' || fmt == 'x-icon' || fmt == 'icns') && imageTransparent ? '' : getUserColor('b-');
        var imgData = getImageData(img, rgbColor, rgbBackColor, fmt);
        hidingBox.removeChild(img);

        if (!imgData) {
          return;
        }
        if (fmt === 'x-icon' || fmt === 'icns') {
          imgData = fn(imgData, width);
          if (!imgData) {
            return;
          }
        }
        var a = document.createElement('a');
        if (fmt === 'x-icon') {
          fmt = 'ico';
          a.type = 'image/x-icon';
          // imgData = generateIco(imgData, width, height);
        }
        a.download = name + '.' + fmt;
        a.href = imgData;
        hidingBox.appendChild(a);
        a.click();
        hidingBox.removeChild(a);
      }
      img.width = width;
      img.height = height;
      img.src = src;
      hidingBox.appendChild(img);
    }

    function onNoop(event) {
      event.preventDefault();
      event.stopPropagation();
    }

    function onChkSave(obj) {
      if (obj.checked) {
        localStorage.setItem('iconsSrcSave', '1');
        localStorage.setItem('iconsSrc', JSON.stringify(iconsSrc));
        iconsSrcSave = true;
      } else {
        localStorage.removeItem('iconsSrc');
        localStorage.removeItem('iconsSrcSave');
        iconsSrcSave = false;
      }
    }
    function onSize(obj) {
      var option = document.querySelector('.icon-wrap #option');
      if (option) { option.parentElement.removeChild(option); }

      if (iconsSrcSave) {
        localStorage.setItem('fontSize', obj.value);
      }

      chgFontSize(obj.value);
    }
    function chgFontSize(value) {
      var css = document.getElementById('css-size');
      var wh = value > 50 ? value / 1 + 30 : 80;
      css.innerHTML = '.icon-wrap .ifc-icon {font-size:' + value + 'px;} .ifc-box{width: ' + wh + 'px;height: ' + wh + 'px;}';
      document.querySelector('.control-box.f-size .value').innerHTML = value;
    }
    // get color from scroll bar
    function getUserColor(pre) {
      var r = document.getElementById(pre + 'red').value;
      var g = document.getElementById(pre + 'green').value;
      var b = document.getElementById(pre + 'blue').value;

      var rgb = r + ',' + g + ',' + b;
      if (iconsSrcSave) {
        localStorage.setItem(pre + 'color', rgb);
      }
      return 'rgb(' + rgb + ')';
    }
    function turn10To16(num) {
      var v16 = '0' + (num / 1).toString(16);
      return v16.substring(v16.length - 2);
    }
    // get color from input text
    function getUserColor16(pre) {
      var r = turn10To16(document.getElementById(pre + 'red').value.toString(16));
      var g = turn10To16(document.getElementById(pre + 'green').value.toString(16));
      var b = turn10To16(document.getElementById(pre + 'blue').value.toString(16));
      return '#' + r + g + b;
    }
    function onChgColor(pre, el) {
      var css = document.getElementById(pre + 'css-color');
      var rgb = getUserColor(pre);
      css.innerHTML = el + ' {' + (pre === '' ? '' : 'background-') + 'color: ' + rgb + ';}';

      var inputColor = document.getElementById(pre + 'iconColor');
      inputColor.value = getUserColor16(pre);
    }

    function onChgColor2(pre, el) {
      var inputColor = document.getElementById(pre + 'iconColor').value.trim();
      if (inputColor[0] == '#' && inputColor.length == 7) {
        var r = parseInt(inputColor.substring(1, 3), 16);
        var g = parseInt(inputColor.substring(3, 5), 16);
        var b = parseInt(inputColor.substring(5, 7), 16);
        onChgColor2Apply(pre, el, r, g, b);
        return;
      }
      var arr = inputColor.split(',');
      if (arr.length >= 3) {
        var r = parseInt(arr[0], 10);
        var g = parseInt(arr[1], 10);
        var b = parseInt(arr[2], 10);
        onChgColor2Apply(pre, el, r, g, b);
      }
    }
    function onChgColor2Apply(pre, el, r, g, b) {
      if (r >= 0 && r <= 255 && g >= 0 && g <= 255 && b >= 0 && b <= 255) {
        document.getElementById(pre + 'red').value = r;
        document.getElementById(pre + 'green').value = g;
        document.getElementById(pre + 'blue').value = b;
        if (iconsSrcSave) {
          localStorage.setItem(pre + 'color', r + ',' + g + ',' + b);
        }
        var rgb = 'rgb(' + r + ',' + g + ',' + b + ')';
        var css = document.getElementById(pre + 'css-color');
        css.innerHTML = el + ' {' + (pre === '' ? '' : 'background-') + 'color: ' + rgb + ';}';
      }
    }

    function onShowPanel() {
      var panel = document.querySelector('.panel');
      panel.classList.contains('show') ? panel.classList.remove('show') : panel.classList.add('show');
    }
  </script>
  <div class="navigation-icon" onclick="onShowPanel()"></div>

  <div class="panel">

    <div class="panel-row">
      <div class="control-box color">
        <div class="title">Icons Color:</div>
        <div>Input:<input type="text" oninput="onChgColor2('', '.icon-wrap')" id="iconColor" value=""
            title="Input color with format #RRGGBB or RRR,GGG,BBB"></div>
        <input type="range" oninput="onChgColor('', '.icon-wrap')" id="red" min="0" max="255" step="1" value="0">
        <input type="range" oninput="onChgColor('', '.icon-wrap')" id="green" min="0" max="255" step="1" value="0">
        <input type="range" oninput="onChgColor('', '.icon-wrap')" id="blue" min="0" max="255" step="1" value="255">
      </div>
      <div class="control-box back">
        <div class="title">Background:</div>
        <div>Input:<input type="text" oninput="onChgColor2('b-', 'body')" id="b-iconColor" value=""
            title="Input color with format #RRGGBB or RRR,GGG,BBB"></div>
        <input type="range" oninput="onChgColor('b-', 'body')" id="b-red" min="0" max="255" step="1" value="255">
        <input type="range" oninput="onChgColor('b-', 'body')" id="b-green" min="0" max="255" step="1" value="255">
        <input type="range" oninput="onChgColor('b-', 'body')" id="b-blue" min="0" max="255" step="1" value="255">
      </div>
    </div>
    <div class="panel-row">
      <div class="control-box f-size">
        <div><span class="title">Font Size:</span><input id="fontSize" type="range" oninput="onSize(this)" min="10"
            max="200" step="1" value="48"><span class="value">48</span>
        </div>
      </div>
    </div>
    <div class="panel-row">
      <div class="control-box search">
        <div>
          <span class="title">Search:</span><input id="search" type="text" oninput="onSearch(this)" value="">
        </div>
        <div class="auto-save">
          <span class="title">Icons:</span><label><input id="saveSelected" type="checkbox"
              oninput="onChkSave(this)">(Automatically save settings)</label>
        </div>
        <div>
          <span><input id="show-selected" type="button" onclick="onShowSelected()" value="Show Selected">
            <input type="button" onclick="onCfg()" value="Populate Configuration">
            <input type="button" onclick="onSearchClose()" value="X"></span>
        </div>
      </div>
    </div>
  </div>

  <div class="hide" id="hiding-box">
  </div>

  <h1 id="app-title">free-icons-customization <span class="app-title">By uuware</span> <a class="link"
      href="https://github.com/uuware/icons-font-customization">project</a>
  </h1>
  <div id="app-description">A collection of free svg icons and tools for generating icon font. Click on the icon at
    top-right corner to
    change color or size.<br>
    (The font used by this page is about 3.8 MB, so depending on your internet, it may be slow to load the font to show
    icons properly)
  </div>
  <br>

  <div id="option" class="option" onclick="onNoop(event)">
    <div class="close" onclick="onOptClose()">X</div>
    <div class="name" title="New name for this icon, blank for original name">
      <span class="title">Name:</span><input class="i-name" type="text" value="">
    </div>
    <div class="code" title="The code indicates this icon in generated font">
      <span class="title">Code:</span><input class="i-code" type="number" min=1 max=2000 value="1">
    </div>
    <div class="name">
      <span class="title"></span><select class="img-type" onchange="onTypeChanged(this)">
        <option value="png" title="Download PNG format">PNG</option>
        <option value="jpg" title="Download JPEG format">JPG</option>
        <option value="x-icon" title="Download Windows Ico format">ICO</option>
        <option value="icns" title="Download Apple Icns format">ICNS</option>
      </select><input type="button" onclick="onDownloadClick(this)" value="Download Image"
        title="Download Image of selected type">
      <input type="button" value="Spin" onclick="onSpin(this)" title="Apply spinning style">
      <br>
      <span class="title"></span>
      <span class="size-w-h">Width: <input class="i-sizeW" type="number" value="32">, Height: <input class="i-sizeH"
          type="number" value="32"></span>
      <span class="size-wh">Size(px):
        16<input onclick="onClickSize(this)" class="i-size-16" type="checkbox" title="size: 16x16">
        24<input onclick="onClickSize(this)" class="i-size-24" type="checkbox" title="size: 24x25">,
        32<input onclick="onClickSize(this)" class="i-size-32" type="checkbox" title="size: 32x32">,
        48<input onclick="onClickSize(this)" class="i-size-48" type="checkbox" title="size: 48x48">,
        64<input onclick="onClickSize(this)" class="i-size-64" type="checkbox" title="size: 64x64">,
        96<input onclick="onClickSize(this)" class="i-size-96" type="checkbox" title="size: 96x96">,
        128<input onclick="onClickSize(this)" class="i-size-128" type="checkbox" title="size: 128x128">,
        256<input onclick="onClickSize(this)" class="i-size-256" type="checkbox" title="size: 256x256">,
        512<input onclick="onClickSize(this)" class="i-size-512" type="checkbox" title="size: 512x512">,
      </span>
      <br>
      <span class="title"></span><span title="If not checked then use current background color">PNG/ICO Background
        Transparent:
        <input onclick="onImageBack(this)" class="i-no-back" type="checkbox"></span>
    </div>
  </div>


  <div class="hide" id="fonts-container"></div>
  <div class="hide" id="search-container"></div>
  <div class="icon-container">

    <!-- REMOVE-S -->
    <script>
      var iconsJSON =
      {
        "ant-design-icons": {
          "preName": "at", "sub": {
            "filled": [
              {
                "c": 10000,
                "n": "account-book",
                "l": 765,
              },
              {
                "c": 10001,
                "n": "alert",
                "l": 614,
              }, {
                "c": 10002,
                "n": "alipay-circle",
                "l": 706,
                "s": "source-name.svg"
              },
            ]
          }
        }
      };
    </script>
    <div class="icon-group close" id="ant-design-icons">
      <div class="info"><label class="name"><input type="checkbox" title="show or hide icons"
            onclick="onGroup('ant-design-icons')">sample1</label>
        source: <a target="_blank" href="https://github.com/ant-design/ant-design-icons">visit</a>,
        License: <span class="license"><a target="_blank"
            href="https://github.com/ant-design/ant-design-icons/blob/master/LICENSE">MIT License</a></span>
      </div>
      <div class="icons">
        <div class="about">Ant Design SVG Icons</div>

        <div class="sub">filled</div>
        <div id="filled" class="sub-icons">
        </div>
      </div>
    </div>
    <!-- REMOVE-E -->
    <!-- ICONS-LIST -->
  </div>
  <!-- DESKTOP-END -->
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-YN8MLGG6LY"></script>
  <script>window.dataLayer = window.dataLayer || []; function gtag() { dataLayer.push(arguments); } gtag('js', new Date()); gtag('config', 'G-YN8MLGG6LY');</script>
</body>

</html>